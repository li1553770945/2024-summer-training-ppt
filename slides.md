---
# You can also start simply with 'default'
theme: default
# random image from a curated Unsplash collection by Anthony
# like them? see https://unsplash.com/collections/94734566/slidev
# some information about your slides (markdown enabled)
title: "讲题"
# apply unocss classes to the current slide
class: text-center

# https://sli.dev/features/drawing
drawings:
  persist: false
# slide transition: https://sli.dev/guide/animations.html#slide-transitions
transition: slide-left
# enable MDC Syntax: https://sli.dev/features/mdc
mdc: true
---

# 0827 讲题

---

## \[ABC206-A\]最大购买

<br>


### 题意
给定一个整数$N$，代表一个未含税的价格。根据税率计算后，将价格乘以1.08并向下取整得到含税价格。需要判断含税价格与206的关系，输出对应的情绀描述。具体为：如果低于206则输出"Yay!"，等于206则输出"so-so"，高于206则输出":("。

### 题解

1. 计算含税价格：先乘以1.08得到增税后的价格，然后使用向下取整来确保结果为整数，由于int类型会自动截断，所以可以直接把这个值赋值给一个int类型。
2. 比较含税价格与206：如果小于206输出"Yay!"，等于206输出"so-so"，大于206输出":("。



---

## \[ABC205-B\]排列检查

<br>



### 题意

给定一个整数序列，序列中的整数范围在 $1$ 到 $N$ 之间，要求判断这个序列是否为从 $1$ 到 $N$ 的一个排列。排列意味着每个从 $1$ 到 $N$ 的整数都恰好出现一次，且只出现一次。

### 题解


本题的核心是验证序列是否包含从 $1$ 到 $N$ 的每一个数字恰好一次。使用一个额外的数组（频率数组）来记录序列中每个数的出现频率是一种简单有效的方法。

#### 关键步骤

1. **读取输入**：首先读取序列的长度 $N$ 和序列本身。
2. **更新频率数组**：使用一个大小为 $N+1$ 的数组记录每个数字的出现次数。
3. **验证排列条件**：遍历频率数组，确保 $1$ 到 $N$ 每个数字的频率恰好为 $1$。如果所有数字都满足条件，则序列是一个有效的排列，否则不是。


---

## \[ABC205-C\]幂

<br>


### 题意

给定三个整数 $A$, $B$, 和 $C$，需要比较 $A^C$ 和 $B^C$ 的大小，并输出比较结果。如果 $A^C$ 小于 $B^C$，输出 `<`；如果 $A^C$ 大于 $B^C$，输出 `>`；如果两者相等，输出 `=`。

### 题解

#### 思路
由于直接计算 $A^C$ 和 $B^C$ 可能会导致数值溢出，尤其是当 $C$ 非常大时，我们可以利用一些数学性质来简化问题：
- **符号处理**：考虑到负数的偶数次幂是正数，奇数次幂是负数，我们可以通过判断 $C$ 的奇偶性来调整 $A$ 和 $B$ 的符号。
- **绝对值比较**：当调整符号后，比较 $|A|$ 和 $|B|$ 的大小即可决定 $A^C$ 和 $B^C$ 的大小关系。

---

#### 关键步骤
1. **读取输入**：输入整数 $A$, $B$, $C$。
2. **处理特殊情况**：如果 $C = 0$，任何数的0次幂都是1，因此输出 `=`。
3. **调整符号**：如果 $C$ 是偶数，取 $A$ 和 $B$ 的绝对值；这样做是因为负数的偶数次幂是正数。
4. **比较大小**：根据调整后的 $A$ 和 $B$ 的值比较大小，并输出相应的符号。如果 $A = B$ 输出 `=`，如果 $A > B$ 输出 `>`，如果 $A < B$ 输出 `<`。

---

## \[ABC205-D\]KthExcluded

<br>

### 题意


给定一个长度为 $N$ 的递增正整数序列 $A$，和 $Q$ 个查询。每个查询给出一个正整数 $K_i$，要求找出不在序列 $A$ 中的第 $K_i$ 个最小正整数。

### 题解


此题数据范围过大，直接模拟会导致时间复杂度过高。

因此，我们可以考虑二分查找的做法，通过对已知数进行二分查找找到最优解。

观察到序列 $A$ 是严格递增的，可以利用这个属性来快速确定缺失的正整数。

如果在位置 $i$ 的元素是 $a_i$，那么在 $a_i$ 之前缺失的正整数的数量应该是 $a_i - i$（因为如果没有缺失，第 $i$ 个位置的元素应该是 $i$）。基于这个发现，我们可以通过二分查找来确定对于给定的 $K_i$，缺失的第 $K_i$ 个正整数是哪一个。

---

#### 关键步骤

1. **初始化二分查找范围**：设置查找范围的左边界 `l = 0` 和右边界 `r = n`。
2. **执行二分查找**：
   - 计算中点 `mid = (l + r + 1) / 2`。
   - 检查中点元素前缺失的正整数数量是否小于 $K_i$。如果 $a_{mid} - mid < K_i$，说明第 $K_i$ 个缺失的正整数在 `mid` 或更大的索引处，调整左边界 `l = mid`。否则，调整右边界 `r = mid - 1`。
3. **计算并输出结果**：二分查找结束后，`l` 将指向最大的满足 $a_l - l < K_i$ 的索引。缺失的第 $K_i$ 个正整数就是 $K_i + l$，因为直到索引 `l`，已经缺失了 `l` 个整数，所以需要额外加上 `K_i` 来得到目标正整数。


---

## \[ABC206-D\]回文数

<br>


### 题意

给定一个由正整数组成的序列 $A = (A_1, A_2, \dots, A_N)$。你可以选择两个数 $(x, y)$ 并将序列中所有的 $x$ 替换成 $y$。你的任务是确定最少需要多少次这样的操作，才能使序列成为回文序列。回文序列的定义是序列从前往后读和从后往前读是相同的。

### 题解

#### 思路

为了使序列成为回文，对于每一个位置 $i$，其元素 $A_i$ 应该与位置 $N+1-i$ 的元素 $A_{N+1-i}$ 相同。如果两者不同，我们可以选择将其中一个元素替换成另一个，从而逐渐使整个序列对称。

由于$N$的范围比较大，如果直接模拟操作会超时，因此可以利用并查集来维护元素之间的等价关系。并查集能有效地处理和查询元素间的连接情况。

---

#### 关键步骤

1. **初始化并查集**：每个元素都是祖先节点，也就是$fa[x]=x$。
2. **遍历序列的一半**：对于每一对 $(i, N+1-i)$，如果 $A_i \neq A_{N+1-i}$，则在并查集中合并它们的根节点。
3. **统计操作次数**：每次合并根节点时，操作数加一，因为这代表了一次替换操作。
4. **输出结果**：输出进行替换操作的总次数。

这个方法通过并查集有效地将所有需要合并以形成回文的元素组合在一起，确保最小的操作次数。

---

## \[ABC205-E\]白球和黑球

<br>


### 题意

你需要找出所有可能的排列方式，将 $N$ 个白球和 $M$ 个黑球按照一定的顺序排列在一行中，使得在每个位置 $i$ （从1开始到 $N+M$ 结束），前 $i$ 个球中的白球数 $w_i$ 与黑球数 $b_i$ 满足 $w_i \leq b_i + K$ 的条件。

### 解法


可以把题目转化为在一个$n \times m$的矩形中，找到多少个从$(0,0)$到$(n,m)$的线，这条线只能向右上方走，并且这条线上所有的点都在直线 $y=x+k$下面。（ $x$ 代表 $w_i$ ，$y$ 代表 $b_i$ ），如下图,黑色的方案是合法的，但红色的方案不合法。

![](https://cdn.luogu.com.cn/upload/image_hosting/u523ey03.png?x-oss-process=image/resize,m_lfit,h_200,w_400)


---

由于直接计算合法方案比较麻烦，我们可以换个思路求不合法的方案。不合法的方案直接看也比较难看出来。

考虑做点 $(0,0)$ 关于 $y = x + k + 1$ 的对称点 $(-k-1, k+1)$，那么从 $(-k-1, k+1)$ 到 $(n,m)$ 的每种方案都对应着一条从 $(0,0)$ 到 $(n,m)$ 且经过直线 $y = x + k$，没有重复和遗漏的，如下图：

注意到是可以碰到 $y = x + k$ 这一条直线的（即 $w_i = b_i + k$），所以只有碰到 $y = x + k + 1$ 才算不合法，所以做关于 $y = x + k + 1$ 的对称点。

从 $(0,0)$ 到 $(n,m)$ 的方案数为 $\binom{n+m}{m}$ ，所以答案为 $\binom{n+m}{m} - \binom{n+m}{m+k+1}$。

由于本题需要求$10^9+7$取模的结果，因此还需要使用逆元求解。在模运算中，除法被转换为乘以逆元：$\frac{a}{b} \% p = a \times \text{inv}(b) \% p$

---

![](https://cdn.luogu.com.cn/upload/image_hosting/xa6jdxjm.png?x-oss-process=image/resize,m_lfit,h_300,w_600)

